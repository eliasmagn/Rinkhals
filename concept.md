# Project Concept

Rinkhals extends Anycubic's Kobra-series firmware with a curated Moonraker environment, OTA tooling, and application ecosystem so users can enjoy open-source printer workflows without giving up stock conveniences. The firmware layers community features—like Mainsail/Fluidd, custom scripts, and network tooling—on top of the vendor UI and services to create a hybrid experience that feels native to the printer.

This update adds the new **MMU Ace** Moonraker component. It plugs into the Kobra integration layer to broker MMU-specific GCode, request patching, and print metadata so multi-material workflows from Anycubic slicers and Fluidd can be synchronized with GoKlipper. Supporting this component aligns with the long-term concept of expanding hardware capabilities through software while preserving compatibility with vendor updates.

The latest iteration brings the component closer to production by reflecting live ACE telemetry inside Moonraker. It now hydrates the status model whenever Anycubic's firmware reports slot or dryer changes, keeps per-gate metadata in sync after user edits, exposes explicit dryer control hooks, and synchronizes endless-spool group assignments. Multi-hub support unlocks dual ACE combos without requiring a second controller, and the MMU-specific GCode bridge surfaces a consistent contract for UI clients to edit spools, remap tools, tune endless-spool groups, or start the dryer. These additions reinforce the hybrid firmware vision: stock services remain authoritative while Rinkhals mirrors and extends them for open-source front-ends.

Recent work also closes the loop on tool selection. The bridge now understands both Fluidd-style `MMU_SELECT TOOL=<n>` calls and Anycubic firmware messages that provide `UNIT`/`GATE` arguments. It forwards whichever combination arrives to the vendor's `filament_hub/select_tool` RPC, updates Moonraker's cached unit/gate/tool fields, and re-emits status so third-party dashboards stay synchronized with the printer's choice of filament.

With slicer integration tightening, Rinkhals now consumes `MMU_SLICER_TOOL_MAP` payloads from OrcaSlicer/PrusaSlicer whether they emit comma-separated pairs or JSON blobs. Parsed tool names, materials, temperatures, and gate assignments immediately refresh the in-memory model and status event so Moonraker-side previews always mirror the slicer's intent.
